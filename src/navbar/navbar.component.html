<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<nav class="bg-gradient-to-t flow-root from-red-500 to-red-700 text-white shadow-lg sticky top-0 z-10">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4">
        <a routerLink="/home" class="flex items-center">
            <img src="https://flowbite.com/docs/images/logo.svg" alt="Logo de la empresa" class="h-10 w-auto">
            <span class="text-white text-xl ml-2 font-bold">SPORTIFY</span>
        </a>

        <div class="flex space-x-12 items-center">

            <ng-container *ngIf="authService.isEmpleado()">
                <div class="relative flex items-center">
                    <a routerLink="/distributors-list" class="py-4 px-0 hover:bg-red-700 font-bold">Distribuidores</a>
                </div>
                <a routerLink="/categories-list" class="py-4 px-0 hover:bg-red-700 font-bold">Categorias</a>
                <a routerLink="/brand-list" class="py-4 px-2 hover:bg-red-700 font-bold">Marcas</a>

                <div class="relative flex items-center group">
                    <a class="py-4 px-2 hover:bg-red-700 font-bold cursor-pointer">Gestionar Productos</a>
                    <div
                        class="absolute hidden group-hover:block bg-white text-black shadow-lg rounded-lg top-full left-0 z-30 transition-all duration-300">
                        <a routerLink="/products" class="block px-4 py-2 hover:bg-red-500 hover:text-white">Lista de
                            Productos</a>
                        <a routerLink="/addProduct" class="block px-4 py-2 hover:bg-red-500 hover:text-white">Agregar
                            Producto</a>
                        <a routerLink="/change-price"
                            class="block px-4 py-2 hover:bg-red-500 hover:text-white">Actualizar Precio</a>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="!authService.isEmpleado()">
                <a [routerLink]="['/products']" [queryParams]="{ gender: '1' }"
                    class="py-4 px-2 hover:bg-red-700 font-bold">Hombre</a>

                <a [routerLink]="['/products']" [queryParams]="{ gender: '2' }"
                    class="py-4 px-2 hover:bg-red-700 font-bold">Mujer</a>

                <a [routerLink]="['/products']" [queryParams]="{ gender: '3' }"
                    class="py-4 px-2 hover:bg-red-700 font-bold">Ni√±os</a>

                <a [routerLink]="['/products']" [queryParams]="{ offer: 'true' }"
                    class="py-4 px-2 bg-yellow-400 text-red-700 hover:bg-yellow-300 font-black rounded-sm shadow-inner italic">üî•
                    SALE</a>
            </ng-container>

            <button *ngIf="!authService.isEmpleado()" [routerLink]="['/shopping-cart']"
                class="flex text-white items-center hover:bg-red-700 font-bold py-2 px-4 rounded">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 3h2l.4 2M7 13h10l4-8H5.4m.6 8h9.25m-10 0H3M16 16a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z" />
                </svg>
            </button>

            <a *ngIf="!username; else userProfile" routerLink="/login"
                class="flex items-center py-4 px-2 hover:bg-red-700 font-bold">
                <i class="fa fa-user text-xl"></i>
            </a>

            <ng-template #userProfile>
                <div class="relative">
                    <button (click)="toggleMenu()" class="flex items-center py-2 hover:bg-red-700 font-bold">
                        {{ username }}
                        <i class="fa fa-chevron-down ml-1"></i>
                    </button>
                    <div class="absolute right-0 mt-2 bg-white text-black shadow-lg rounded-lg transition-opacity duration-300"
                        [ngClass]="{'hidden': !showMenu}">
                        <button [routerLink]="['/myOrders', userId]"
                            class="block w-full text-left px-4 py-2 hover:bg-red-500 hover:text-white">Mis
                            pedidos</button>
                        <button [routerLink]="['/updateUser', userId]"
                            class="block w-full text-left px-4 py-2 hover:bg-red-500 hover:text-white">Cambiar
                            Informaci√≥n</button>
                        <button (click)="logOut()"
                            class="block w-full text-left px-4 py-2 hover:bg-red-500 hover:text-white">Cerrar
                            sesi√≥n</button>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</nav>